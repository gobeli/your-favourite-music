webpackJsonp([1],{245:function(e,t){},246:function(e,t,s){function a(e){s(334)}var n=s(69)(s(247),s(480),a,null,null);e.exports=n.exports},247:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(251),n=s.n(a),r=s(252),i=s.n(r),o=s(477),l=s.n(o),c=s(478),u=s.n(c),m=s(70);s.n(m);t.default={name:"app",data:function(){return{user:null,genres:[],artists:[],tracks:[],timeRange:"long_term",activeTab:"artists"}},components:{"app-chart":l.a,"app-medium":u.a},mounted:function(){console.log(this.$spotify),this.$spotify.token&&(this.user=new m.UserHandler,this.activate("artists"))},watch:{timeRange:function(){this.activate(this.activeTab)}},computed:{saveArtists:function(){var e=this;return this.artists.map(function(t){return{image:e.getImage(t),name:t.name,key:t.id,url:t.external_urls.spotify}})},saveTracks:function(){var e=this;return this.tracks.map(function(t){return{image:e.getImage(t.album),name:t.name,key:t.id,url:t.external_urls.spotify}})}},methods:{login:function(){this.$spotify.login().then(function(e){window.location.href=e})},logout:function(){localStorage.removeItem("token"),location.reload()},getImage:function(e){if(e&&e.images)return e.images.find(function(e){return 64===e.height})},activate:function(e){var t=this;this.activeTab=e,"favourite genres"===e&&(e="artists"),this.user.top(e,{limit:100,time_range:this.timeRange}).catch(function(e){return t.logout()}).then(function(s){t[e]=s.map(function(e){return i()(e,{popularity:e.popularity+" / 100"})}),"artists"===e&&t.getGenres()})},getGenres:function(){var e=[];if(this.artists){var t=!0,s=!1,a=void 0;try{for(var r,i=n()(this.artists.map(function(e){return e.genres}).reduce(function(e,t){return e.concat(t)}));!(t=(r=i.next()).done);t=!0){var o=r.value,l=e.find(function(e){return e.genre===o});l?l.count++:e.push({genre:o,count:1})}}catch(e){s=!0,a=e}finally{try{!t&&i.return&&i.return()}finally{if(s)throw a}}this.genres=e.sort(function(e,t){return t.count-e.count}).splice(0,10)}}}}},248:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(41),n=s.n(a),r=s(472);s.n(r);t.default=r.Doughnut.extend({props:["labels","data"],watch:{getData:{handler:function(e,t){var s=this._chart,a=e.datasets.map(function(e){return e.label}),r=t.datasets.map(function(e){return e.label});n()(a)===n()(r)?(e.datasets.forEach(function(e,t){s.data.datasets[t].data=e.data}),s.data.labels=e.labels,s.update()):this.renderChart(this.data,this.options)},deep:!0}},computed:{getData:function(){return{labels:this.labels,datasets:[{backgroundColor:["#EAF2F8","#D4E6F1","#A9CCE3","#7FB3D5","#5499C7","#2980B9","#2471A3","#1F618D","#1A5276","#154360"],data:this.data}]}}},mounted:function(){this.renderChart(this.getData,{responsive:!0,maintainAspectRatio:!1,legend:{position:"bottom"}})}})},249:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["medium"]}},250:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(4),n=s(246),r=s.n(n),i=s(70),o=(s.n(i),s(245)),l=(s.n(o),i.Client.instance);l.settings={clientId:"3beb58e0f88f41d78171e9046e455938",scopes:["user-top-read"],redirect_uri:"https://gobeli.github.io/your-favourite-music/"},console.log(localStorage.getItem("token")),localStorage.getItem("token")?l.token=localStorage.getItem("token"):window.location.hash.split("&")[0].split("=")[1]&&(localStorage.setItem("token",window.location.hash.split("&")[0].split("=")[1]),l.token=localStorage.getItem("token"),window.location=window.location.href.split("access_token")[0]),a.default.prototype.$spotify=l,new a.default({el:"#app",template:"<App/>",components:{App:r.a}})},333:function(e,t){},334:function(e,t){},462:function(e,t,s){function a(e){return s(n(e))}function n(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./af":129,"./af.js":129,"./ar":136,"./ar-dz":130,"./ar-dz.js":130,"./ar-kw":131,"./ar-kw.js":131,"./ar-ly":132,"./ar-ly.js":132,"./ar-ma":133,"./ar-ma.js":133,"./ar-sa":134,"./ar-sa.js":134,"./ar-tn":135,"./ar-tn.js":135,"./ar.js":136,"./az":137,"./az.js":137,"./be":138,"./be.js":138,"./bg":139,"./bg.js":139,"./bn":140,"./bn.js":140,"./bo":141,"./bo.js":141,"./br":142,"./br.js":142,"./bs":143,"./bs.js":143,"./ca":144,"./ca.js":144,"./cs":145,"./cs.js":145,"./cv":146,"./cv.js":146,"./cy":147,"./cy.js":147,"./da":148,"./da.js":148,"./de":151,"./de-at":149,"./de-at.js":149,"./de-ch":150,"./de-ch.js":150,"./de.js":151,"./dv":152,"./dv.js":152,"./el":153,"./el.js":153,"./en-au":154,"./en-au.js":154,"./en-ca":155,"./en-ca.js":155,"./en-gb":156,"./en-gb.js":156,"./en-ie":157,"./en-ie.js":157,"./en-nz":158,"./en-nz.js":158,"./eo":159,"./eo.js":159,"./es":161,"./es-do":160,"./es-do.js":160,"./es.js":161,"./et":162,"./et.js":162,"./eu":163,"./eu.js":163,"./fa":164,"./fa.js":164,"./fi":165,"./fi.js":165,"./fo":166,"./fo.js":166,"./fr":169,"./fr-ca":167,"./fr-ca.js":167,"./fr-ch":168,"./fr-ch.js":168,"./fr.js":169,"./fy":170,"./fy.js":170,"./gd":171,"./gd.js":171,"./gl":172,"./gl.js":172,"./gom-latn":173,"./gom-latn.js":173,"./he":174,"./he.js":174,"./hi":175,"./hi.js":175,"./hr":176,"./hr.js":176,"./hu":177,"./hu.js":177,"./hy-am":178,"./hy-am.js":178,"./id":179,"./id.js":179,"./is":180,"./is.js":180,"./it":181,"./it.js":181,"./ja":182,"./ja.js":182,"./jv":183,"./jv.js":183,"./ka":184,"./ka.js":184,"./kk":185,"./kk.js":185,"./km":186,"./km.js":186,"./kn":187,"./kn.js":187,"./ko":188,"./ko.js":188,"./ky":189,"./ky.js":189,"./lb":190,"./lb.js":190,"./lo":191,"./lo.js":191,"./lt":192,"./lt.js":192,"./lv":193,"./lv.js":193,"./me":194,"./me.js":194,"./mi":195,"./mi.js":195,"./mk":196,"./mk.js":196,"./ml":197,"./ml.js":197,"./mr":198,"./mr.js":198,"./ms":200,"./ms-my":199,"./ms-my.js":199,"./ms.js":200,"./my":201,"./my.js":201,"./nb":202,"./nb.js":202,"./ne":203,"./ne.js":203,"./nl":205,"./nl-be":204,"./nl-be.js":204,"./nl.js":205,"./nn":206,"./nn.js":206,"./pa-in":207,"./pa-in.js":207,"./pl":208,"./pl.js":208,"./pt":210,"./pt-br":209,"./pt-br.js":209,"./pt.js":210,"./ro":211,"./ro.js":211,"./ru":212,"./ru.js":212,"./sd":213,"./sd.js":213,"./se":214,"./se.js":214,"./si":215,"./si.js":215,"./sk":216,"./sk.js":216,"./sl":217,"./sl.js":217,"./sq":218,"./sq.js":218,"./sr":220,"./sr-cyrl":219,"./sr-cyrl.js":219,"./sr.js":220,"./ss":221,"./ss.js":221,"./sv":222,"./sv.js":222,"./sw":223,"./sw.js":223,"./ta":224,"./ta.js":224,"./te":225,"./te.js":225,"./tet":226,"./tet.js":226,"./th":227,"./th.js":227,"./tl-ph":228,"./tl-ph.js":228,"./tlh":229,"./tlh.js":229,"./tr":230,"./tr.js":230,"./tzl":231,"./tzl.js":231,"./tzm":233,"./tzm-latn":232,"./tzm-latn.js":232,"./tzm.js":233,"./uk":234,"./uk.js":234,"./ur":235,"./ur.js":235,"./uz":237,"./uz-latn":236,"./uz-latn.js":236,"./uz.js":237,"./vi":238,"./vi.js":238,"./x-pseudo":239,"./x-pseudo.js":239,"./yo":240,"./yo.js":240,"./zh-cn":241,"./zh-cn.js":241,"./zh-hk":242,"./zh-hk.js":242,"./zh-tw":243,"./zh-tw.js":243};a.keys=function(){return Object.keys(r)},a.resolve=n,e.exports=a,a.id=462},476:function(e,t){e.exports={_args:[[{raw:"vue-chartjs@^2.6.5",scope:null,escapedName:"vue-chartjs",name:"vue-chartjs",rawSpec:"^2.6.5",spec:">=2.6.5 <3.0.0",type:"range"},"/home/travis/build/gobeli/your-favourite-music"]],_from:"vue-chartjs@>=2.6.5 <3.0.0",_id:"vue-chartjs@2.7.1",_inCache:!0,_location:"/vue-chartjs",_nodeVersion:"8.1.3",_npmOperationalInternal:{host:"s3://npm-registry-packages",tmp:"tmp/vue-chartjs-2.7.1.tgz_1499281572881_0.19819322181865573"},_npmUser:{name:"apertureless",email:"juszczak.j@googlemail.com"},_npmVersion:"5.0.4",_phantomChildren:{},_requested:{raw:"vue-chartjs@^2.6.5",scope:null,escapedName:"vue-chartjs",name:"vue-chartjs",rawSpec:"^2.6.5",spec:">=2.6.5 <3.0.0",type:"range"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/vue-chartjs/-/vue-chartjs-2.7.1.tgz",_shasum:"4e8a01168f10bf747630930c3f9f1130fd00694a",_shrinkwrap:null,_spec:"vue-chartjs@^2.6.5",_where:"/home/travis/build/gobeli/your-favourite-music",author:{name:"Jakub Juszczak",email:"jakub@posteo.de"},babel:{presets:["es2015"]},browserify:{transform:["babelify"]},bugs:{url:"https://github.com/apertureless/vue-chartjs/issues"},contributors:[{name:"Thorsten LÃ¼nborg",url:"https://github.com/LinusBorg"},{name:"Juan Carlos Alonso",url:"https://github.com/jcalonso"}],dependencies:{lodash:"^4.17.4"},description:"vue.js wrapper for chart.js",devDependencies:{"babel-cli":"^6.24.1","babel-core":"^6.25.0","babel-loader":"^7.0.0","babel-plugin-transform-runtime":"^6.23.0","babel-preset-es2015":"^6.24.1","babel-preset-stage-2":"^6.24.1","babel-runtime":"^6.23.0",chai:"^3.5.0","chart.js":"^2.6.0",chromedriver:"^2.28.0","connect-history-api-fallback":"^1.1.0","cross-env":"^3.2.4","cross-spawn":"^5.1.0","css-loader":"^0.28.0",eslint:"^3.19.0","eslint-config-standard":"^10.2.1","eslint-friendly-formatter":"^2.0.7","eslint-loader":"^1.7.1","eslint-plugin-html":"^2.0.1","eslint-plugin-import":"^2.2.0","eslint-plugin-node":"^4.2.2","eslint-plugin-promise":"^3.5.0","eslint-plugin-standard":"^3.0.1","eventsource-polyfill":"^0.9.6",express:"^4.15.2","extract-text-webpack-plugin":"^1.0.1","file-loader":"^0.10.1","function-bind":"^1.0.2","html-webpack-plugin":"^2.28.0","http-proxy-middleware":"^0.17.4","inject-loader":"^3.0.0","isparta-loader":"^2.0.0","jasmine-core":"^2.5.2","json-loader":"^0.5.4",karma:"^1.5.0","karma-coverage":"^1.1.1","karma-jasmine":"^1.0.2","karma-mocha":"^1.2.0","karma-phantomjs-launcher":"^1.0.4","karma-sinon-chai":"^1.2.0","karma-sourcemap-loader":"^0.3.7","karma-spec-reporter":"0.0.30","karma-webpack":"1.8.1",lolex:"^1.6.0",mocha:"^3.1.0",nightwatch:"^0.9.14",ora:"^1.2.0","phantomjs-prebuilt":"^2.1.13","selenium-server":"^3.3.1",shelljs:"^0.7.7",sinon:"^2.1.0","sinon-chai":"^2.9.0","url-loader":"^0.5.8",vue:"^2.3.4","vue-hot-reload-api":"^2.1.0","vue-html-loader":"^1.2.4","vue-loader":"^12.2.1","vue-style-loader":"^3.0.1","vue-template-compiler":"^2.3.4",webpack:"^1.13.2","webpack-dev-middleware":"^1.10.1","webpack-hot-middleware":"^2.17.1","webpack-merge":"1.1.1"},directories:{},dist:{integrity:"sha512-fX41DkjLyOqC6Hm2Akto+uAA1pIFFCMZNHoBlk5CWwig80mgnZj+b35xr9YOYf2974gOj7MaA3JY+ACcwSzhiw==",shasum:"4e8a01168f10bf747630930c3f9f1130fd00694a",tarball:"https://registry.npmjs.org/vue-chartjs/-/vue-chartjs-2.7.1.tgz"},engines:{node:">=6.9.0"},files:["src","dist","es"],gitHead:"4f7dda3c3bf66cdd6291ea350f6bdefa4370947f",greenkeeper:{ignore:["extract-text-webpack-plugin","karma-webpack","webpack","webpack-merge"]},homepage:"http://vue-chartjs.org","jsnext:main":"es/index.js",keywords:["ChartJs","Vue","Visualisation","Wrapper","Charts"],license:"MIT",main:"dist/vue-chartjs.js",maintainers:[{name:"apertureless",email:"juszczak.j@googlemail.com"}],module:"es/index.js",name:"vue-chartjs",optionalDependencies:{},peerDependencies:{"chart.js":"^2.6.0",vue:"^2.3.4"},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+ssh://git@github.com/apertureless/vue-chartjs.git"},scripts:{build:"yarn run release && yarn run build:es","build:es":"cross-env BABEL_ENV=es babel src --out-dir es",dev:"node build/dev-server.js",e2e:"node test/e2e/runner.js",lint:"eslint --ext .js,.vue src test/unit/specs test/e2e/specs",prepublish:"yarn run lint && yarn run test && yarn run build",release:"webpack --progress --hide-modules --config  ./build/webpack.release.js && NODE_ENV=production webpack --progress --hide-modules --config  ./build/webpack.release.min.js && webpack --progress --hide-modules --config  ./build/webpack.release.full.js && NODE_ENV=production webpack --progress --hide-modules --config  ./build/webpack.release.full.min.js",test:"npm run unit",unit:"karma start test/unit/karma.conf.js --single-run"},unpkg:"dist/vue-chartjs.full.min.js",version:"2.7.1"}},477:function(e,t,s){var a=s(69)(s(248),null,null,null,null);e.exports=a.exports},478:function(e,t,s){function a(e){s(333)}var n=s(69)(s(249),s(479),a,null,null);e.exports=n.exports},479:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{staticClass:"media",attrs:{target:"_blank",href:e.medium.url}},[s("figure",{staticClass:"media-left"},[s("p",{staticClass:"image is-64x64"},[e.medium.image?s("img",{attrs:{src:e.medium.image?e.medium.image.url:""}}):e._e()])]),e._v(" "),s("div",{staticClass:"media-content content"},[s("strong",[e._v(e._s(e.medium.name))])]),e._v(" "),e._m(0)])},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"media-right"},[s("span",{staticClass:"icon is-big",staticStyle:{"margin-right":"1rem"}},[s("i",{staticClass:"fa fa-play"})])])}]}},480:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",[e.$spotify.token?e._e():s("section",{staticClass:"hero is-fullheight is-dark is-bold"},[s("div",{staticClass:"hero-body"},[s("div",{staticClass:"container"},[s("div",{staticClass:"login"},[s("button",{staticClass:"button is-primary is-large",on:{click:e.login}},[e._v("Login with spotify")])])])])]),e._v(" "),e.$spotify.token?s("div",{staticClass:"container"},[e._m(0),e._v(" "),s("div",{staticClass:"tabs is-toggle is-fullwidth"},[s("ul",[s("li",{class:{"is-active":"artists"===e.activeTab},on:{click:function(t){e.activate("artists")}}},[s("a",[e._v("Favourite Artists")])]),e._v(" "),s("li",{class:{"is-active":"tracks"===e.activeTab},on:{click:function(t){e.activate("tracks")}}},[s("a",[e._v("Favourite Tracks")])]),e._v(" "),s("li",{class:{"is-active":"favourite genres"===e.activeTab},on:{click:function(t){e.activate("favourite genres")}}},[s("a",[e._v("Favourite Genres")])])])]),e._v(" "),s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("Time frame")]),e._v(" "),s("p",{staticClass:"control"},[s("span",{staticClass:"select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.timeRange,expression:"timeRange"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.timeRange=t.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"long_term"}},[e._v("Always")]),e._v(" "),s("option",{attrs:{value:"medium_term"}},[e._v("~ 6 Months")]),e._v(" "),s("option",{attrs:{value:"short_term"}},[e._v("~ 4 Weeks")])])])])]),e._v(" "),"artists"===e.activeTab?s("div",{staticClass:"content"},[s("h2",[e._v("Artists")]),e._v(" "),e._l(e.saveArtists,function(e){return s("app-medium",{key:e.key,attrs:{medium:e}})})],2):e._e(),e._v(" "),"tracks"===e.activeTab?s("div",{staticClass:"content"},[s("h2",[e._v("Tracks")]),e._v(" "),e._l(e.saveTracks,function(e){return s("app-medium",{key:e.key,attrs:{medium:e}})})],2):e._e(),e._v(" "),"favourite genres"===e.activeTab?s("div",{staticClass:"content"},[s("h2",[e._v("Favourite Genres")]),e._v(" "),s("app-chart",{attrs:{data:e.genres.map(function(e){return e.count}),labels:e.genres.map(function(e){return e.genre})}})],1):e._e()]):e._e()])},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[s("h1",{staticClass:"title is-2"},[e._v("Your favourite Music")])])}]}}},[250]);
//# sourceMappingURL=app.b38b12095189f7313122.js.map